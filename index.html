<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>RDMex</title>
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>ğŸš€</text></svg>">
    <meta http-equiv="Content-Security-Policy" content="default-src 'self' data: gap:; connect-src 'self' https://api.real-debrid.com https://raw.githubusercontent.com; style-src 'self' 'unsafe-inline' https://cdn.jsdelivr.net; font-src 'self' https://cdn.jsdelivr.net; script-src 'self' 'unsafe-inline' 'unsafe-eval';">
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.4.0/css/all.min.css" />
    <style>
      .fade-in { animation: fadeIn 0.3s ease-in; }
      @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
      .toast { position: fixed; top: 20px; right: 20px; z-index: 1000; }
      .loading { animation: spin 1s linear infinite; }
      @keyframes spin { from { transform: rotate(0deg); } to { transform: rotate(360deg); } }
      .btn-potplayer { background-color: #fee92e; color: black; }
      .btn-potplayer:hover { background-color: #e5d129; }
      .btn-stream { background-color: #e84a8e; color: white; }
      .btn-stream:hover { background-color: #d94680; }
      .btn-rdpage { background-color: #8854c6; color: white; }
      .btn-rdpage:hover { background-color: #7949b3; }
      .btn-download { background-color: #25a560; color: white; }
      .btn-download:hover { background-color: #209255; }
      .btn-link { background-color: #3d79f0; color: white; }
      .btn-link:hover { background-color: #356ad6; }
      .btn-hide { background-color: #d88137; color: white; }
      .btn-hide:hover { background-color: #c07130; }
      .btn-delete { background-color: #d3404d; color: white; }
      .btn-delete:hover { background-color: #bb3944; }
    </style>
</head>
<body class="bg-white min-h-screen">
    <div class="bg-gradient-to-r from-blue-600 to-purple-800 text-white p-4 shadow-md flex justify-between items-center">
      <div><h1 class="text-2xl font-bold flex items-center"><i class="fas fa-rocket mr-3"></i>RDMex</h1></div>
      <div class="text-right opacity-90"><span id="apiListSize" class="text-xl font-bold"></span></div>
    </div>
    <div class="container mx-auto px-4 md:px-6 py-8 max-w-7xl">
      <div class="bg-gray-100 rounded-lg shadow-lg p-6 mb-8">
        <div class="flex flex-col md:flex-row gap-6">
            <div class="flex-1 flex relative h-32 md:h-auto"><div id="magnetPlaceholder" class="absolute inset-0 flex items-center justify-center pointer-events-none transition-opacity duration-300"><i class="fas fa-magnet text-4xl text-gray-400"></i></div><textarea id="magnetInput" rows="2" class="w-full h-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-left bg-transparent z-10 md:min-h-[128px]"></textarea></div>
            <div class="flex-1 flex h-32 md:h-auto"><div class="border-2 border-dashed border-gray-300 rounded-lg p-4 text-center w-full h-full flex flex-col justify-center items-center relative" id="dropZone"><input type="file" id="torrentFile" accept=".torrent" class="hidden" onchange="displayFileName()" /><div id="dropZoneContent" class="flex flex-col items-center justify-center h-full"><i class="fas fa-cloud-upload-alt text-4xl text-gray-400"></i></div></div></div>
        </div>
        <button onclick="handleUnifiedUpload(this)" id="unifiedUploadButton" class="w-full mt-6 px-4 py-3 bg-blue-600 text-white font-bold rounded-lg hover:bg-blue-700 transition duration-200 flex items-center justify-center text-2xl"><i class="fas fa-upload"></i></button>
        <div class="mt-6">
          <div class="flex justify-between items-center mb-1">
            <label for="trackerInput" class="block text-sm font-medium text-gray-700 flex items-center"><span class="cursor-pointer" onclick="fetchBestTrackers()"><i class="fas fa-satellite-dish mr-2 text-purple-500"></i></span><span id="trackerStatusIcon" class="ml-2"></span><span id="trackerUpdateTime" class="text-lg font-bold text-gray-700 ml-3"></span></label>
          </div>
          <div class="relative"><textarea id="trackerInput" rows="3" class="w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500" placeholder="ìµœì‹  í†µí•© íŠ¸ë˜ì»¤ ëª©ë¡ì„ ìë™ìœ¼ë¡œ ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘ì…ë‹ˆë‹¤..."></textarea></div>
        </div>
      </div>
      <div class="bg-gray-100 rounded-lg shadow-lg mb-8 relative" style="height: 600px">
        <div class="absolute top-0 left-0 right-0 p-6 h-20 border-b border-gray-200"><h2 class="text-xl font-semibold flex items-center justify-center text-gray-800 h-full"><i class="fas fa-list mr-2 text-blue-500"></i>í† ë ŒíŠ¸ ëª©ë¡</h2></div>
        <div class="absolute top-20 bottom-20 left-0 right-0 overflow-y-auto p-4"><div id="torrentList" class="space-y-3"><p class="text-gray-500 text-center py-8">í† ë ŒíŠ¸ ëª©ë¡ì„ ë¶ˆëŸ¬ì˜¤ë ¤ë©´ ìƒˆë¡œê³ ì¹¨ ë²„íŠ¼ì„ í´ë¦­í•˜ì„¸ìš”.</p></div></div>
        <div class="absolute bottom-0 left-0 right-0 p-6 h-20 border-t border-gray-200"><div class="flex justify-center items-center h-full gap-4"><button onclick="refreshTorrents()" class="px-4 py-2 bg-blue-600 text-white font-semibold rounded-lg hover:bg-blue-700"><i class="fas fa-sync-alt mr-2"></i>ìƒˆë¡œê³ ì¹¨</button><button onclick="deleteCompleted()" class="px-4 py-2 bg-red-600 text-white font-semibold rounded-lg hover:bg-red-700"><i class="fas fa-trash mr-2"></i>ì™„ë£Œì‚­ì œ</button></div></div>
      </div>
      <div class="bg-gray-100 rounded-lg shadow-lg p-6"><h2 class="text-xl font-semibold mb-4 flex items-center text-gray-800"><i class="fas fa-info-circle mr-2 text-blue-500"></i>ìƒíƒœ ë° ë¡œê·¸</h2><div id="statusLog" class="bg-white rounded-lg p-4 max-h-60 overflow-y-auto"><p id="initialLogMessage" class="text-gray-500">ì¤€ë¹„ ì™„ë£Œ.</p></div></div>
      <div class="bg-gray-100 rounded-lg shadow-lg p-6 mt-8">
        <div class="flex justify-between items-center mb-4"><h2 class="text-xl font-semibold flex items-center text-gray-800"><i class="fas fa-key mr-2 text-yellow-500"></i><span class="text-black">API</span><span id="apiCombinedStatus" class="ml-3 text-xl"></span></h2></div>
        <input type="text" id="apiToken" class="w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500" placeholder="Real-Debrid API í† í°ì„ ì…ë ¥í•˜ì„¸ìš”" /><p class="text-xs text-gray-500 mt-2">API í† í°ì€ <a href="https://real-debrid.com/apitoken" target="_blank" class="text-blue-600 underline">real-debrid.com/apitoken</a> ì—ì„œ ë°œê¸‰ë°›ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.<br/><span class="text-red-500">ì—°ê²° ì‹¤íŒ¨ ì‹œ:</span> í† í°ì´ ì •í™•í•œì§€, ì¸í„°ë„· ì—°ê²°, ë¸Œë¼ìš°ì € í™•ì¥ í”„ë¡œê·¸ë¨(ê´‘ê³  ì°¨ë‹¨ ë“±)ì„ í™•ì¸í•´ì£¼ì„¸ìš”.</p>
        <div class="flex gap-4 mt-4"><button onclick="saveToken()" class="flex-1 px-6 py-3 bg-blue-600 text-white font-semibold rounded-lg hover:bg-blue-700"><i class="fas fa-save mr-2"></i>ì €ì¥</button><button onclick="testConnection()" class="flex-1 px-6 py-3 bg-green-600 text-white font-semibold rounded-lg hover:bg-green-700"><i class="fas fa-plug mr-2"></i>ì—°ê²° í…ŒìŠ¤íŠ¸</button></div>
      </div>
    </div>
    
    <div id="toastContainer" class="toast"></div>

    <!-- ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ë¨¼ì €, ê·¸ ë‹¤ìŒ ì• í”Œë¦¬ì¼€ì´ì…˜ ì½”ë“œë¥¼ ìˆœì„œëŒ€ë¡œ ë¡œë“œí•©ë‹ˆë‹¤. -->
    <script src="rdmex.js"></script>
    <script src="parse-torrent.min.js"></script>


</body>
</html>
